<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
    <title>Home - Bookstore</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <div class="container">
        <h1 th:text="${message}">Welcome message</h1>
        <p th:text="${description}">Site description</p>
        <p sec:authorize="isAnonymous()">Please log in to access booklist</p>
        <p sec:authorize="isAuthenticated()" style="display: inline-flex; align-items: center; gap: 10px;">
            Logged in as: <span sec:authentication="name"></span>
        </p>

        <div class="mt-3">
            <div class="mt-3" style="display: flex; align-items: center; gap: 10px;">
                <!-- Näkyy vain, jos käyttäjä EI ole kirjautunut -->
                <a th:href="@{/login}" class="btn btn-primary" sec:authorize="isAnonymous()">Login</a>

                <!-- Näkyy vain, jos käyttäjä ON kirjautunut -->
                <form th:action="@{/logout}" method="post" style="margin: 0;" sec:authorize="isAuthenticated()">
                    <button type="submit" class="btn btn-danger">Logout</button>
                </form>
            </div>

            <br><br>
            <a th:href="@{/booklist}" class="btn btn-primary" sec:authorize="isAuthenticated()">View Book List</a>

        </div>
    </div>
</body>

</html>